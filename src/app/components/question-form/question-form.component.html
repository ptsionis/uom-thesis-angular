<div class="submit-form-wrapper popup-wrapper">
  <form
    (ngSubmit)="handleSubmit(submitForm)"
    #submitForm="ngForm"
    class="submit-form"
  >
    <div class="submit-form-close" (click)="toggleShowQuestionForm()">
      close
    </div>
    <div class="submit-form-outer">
      <div class="submit-form-section">
        <label for="question"
          >Question <span class="submit-form-required">*</span></label
        >
        <input
          class="submit-form-control"
          type="text"
          name="question"
          maxlength="500"
          ngModel
          required
        />
        <div class="submit-form-note">(Maximum length 500 characters)</div>
      </div>

      <div class="submit-form-section">
        <label for="category"
          >Category <span class="submit-form-required">*</span></label
        >
        <div class="submit-form-radio-group">
          @for (category of categories; track category) {
          <div class="submit-form-radio-option">
            <input
              type="radio"
              name="category"
              [value]="category"
              [id]="category"
              ngModel
              required
            />
            <label class="submit-form-radio-label" [for]="category">{{
              category
            }}</label>
          </div>
          }
        </div>
      </div>

      <div class="submit-form-section">
        <label for="level"
          >Level <span class="submit-form-required">*</span></label
        >
        <div class="submit-form-radio-group">
          @for (level of levels; track level) {
          <div class="submit-form-radio-option">
            <input
              type="radio"
              name="level"
              [value]="level"
              [id]="'level-' + level"
              ngModel
              required
            />
            <label class="submit-form-radio-label" [for]="'level-' + level">{{
              level
            }}</label>
          </div>
          }
        </div>
      </div>

      <div class="submit-form-section">
        <label for="answer1"
          >Answer 1 <span class="submit-form-required">*</span></label
        >
        <input
          class="submit-form-control"
          type="text"
          name="answer1"
          maxlength="100"
          ngModel
          required
        />
      </div>

      <div class="submit-form-section">
        <label for="answer2"
          >Answer 2 <span class="submit-form-required">*</span></label
        >
        <input
          class="submit-form-control"
          type="text"
          name="answer2"
          maxlength="100"
          ngModel
          required
        />
      </div>

      <div class="submit-form-section">
        <label for="answer3"
          >Answer 3 <span class="submit-form-required">*</span></label
        >
        <input
          class="submit-form-control"
          type="text"
          name="answer3"
          maxlength="100"
          ngModel
          required
        />
      </div>

      <div class="submit-form-section">
        <label for="answer4"
          >Answer 4 <span class="submit-form-required">*</span></label
        >
        <input
          class="submit-form-control"
          type="text"
          name="answer4"
          maxlength="100"
          ngModel
          required
        />
      </div>

      <div class="submit-form-section">
        <label for="correctId"
          >Correct Answer <span class="submit-form-required">*</span></label
        >
        <div class="submit-form-radio-group">
          @for (correctId of correctIds; track correctId) {
          <div class="submit-form-radio-option">
            <input
              type="radio"
              name="correctId"
              [value]="correctId"
              [id]="'correctId-ci' + correctId"
              ngModel
              required
            />
            <label
              class="submit-form-radio-label"
              [for]="'correctId-ci' + correctId"
              >{{ correctId }}</label
            >
          </div>
          }
        </div>
      </div>

      <div class="submit-form-section">
        <label for="source">Source URL</label>
        <input
          class="submit-form-control"
          type="text"
          name="source"
          maxlength="2048"
          ngModel
        />
      </div>

      <div class="submit-form-buttons-wrapper">
        <button
          type="button"
          class="submit-form-cancel"
          (click)="toggleShowQuestionForm()"
        >
          Cancel
        </button>
        <button class="submit-form-submit" type="submit">Submit</button>
      </div>
    </div>
  </form>
  @if (showFormModal) {
  <app-modal-custom
    [modalMsg]="submitSuccess ? msgSuccess : msgFail"
    [isError]="!submitSuccess"
    (close)="closeModal()"
  ></app-modal-custom>
  }
</div>
